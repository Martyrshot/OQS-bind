.. Copyright (C) Internet Systems Consortium, Inc. ("ISC")
..
.. SPDX-License-Identifier: MPL-2.0
..
.. This Source Code Form is subject to the terms of the Mozilla Public
.. License, v. 2.0.  If a copy of the MPL was not distributed with this
.. file, you can obtain one at https://mozilla.org/MPL/2.0/.
..
.. See the COPYRIGHT file distributed with this work for additional
.. information regarding copyright ownership.

Notes for BIND 9.19.13
----------------------

New Features
~~~~~~~~~~~~

- :iscman:`dnstap-read` can now print long timestamps with millisecond
  precision. :gl:`#2360`

Bug Fixes
~~~~~~~~~

- When the same :any:`notify-source` address and port number was
  configured for multiple destinations and zones, an unresponsive server
  could tie up the relevant network socket until it timed out; in the
  meantime, NOTIFY messages for other servers silently failed.
  :iscman:`named` will now retry sending such NOTIFY messages over TCP.
  Furthermore, NOTIFY failures are now logged at the INFO level.
  :gl:`#4001` :gl:`#4002`

- The :any:`max-transfer-time-in` and :any:`max-transfer-idle-in`
  statements have not had any effect since the BIND 9 networking stack
  was refactored in version 9.16. The missing functionality has been
  re-implemented and incoming zone transfers now time out properly when
  not progressing. :gl:`#4004`

- The read timeout in :iscman:`rndc` is now 60 seconds, matching the
  behavior in BIND 9.16 and earlier. It had previously been lowered to
  30 seconds by mistake. :gl:`#4046`

- When the ``ISC_R_INVALIDPROTO`` (``ENOPROTOOPT``, ``EPROTONOSUPPORT``)
  error code is returned by libuv, it is now treated as a network
  failure: the server for which that error code is returned gets marked
  as broken and is not contacted again during a given resolution
  process. :gl:`#4005`

- When removing delegations from an opt-out range, empty-non-terminal
  NSEC3 records generated by those delegations were not cleaned up. This
  has been fixed. :gl:`#4027`

- A flaw in reworked code responsible for accepting TCP connections has
  been addressed. This issue could cause a visible performance drop for
  TCP queries on some platforms, notably FreeBSD, and has now been
  fixed. :gl:`#3985`

- Log file rotation code did not clean up older versions of log files
  when the logging :any:`channel` had an absolute path configured as a
  ``file`` destination. This has been fixed. :gl:`#3991`

Known Issues
~~~~~~~~~~~~

- There are no new known issues with this release. See :ref:`above
  <relnotes_known_issues>` for a list of all known issues affecting this
  BIND 9 branch.
